@startuml Diagrama_Actividades_Consultar_Proyectos_Activos
title Diagrama de Actividades - Caso de Uso 05: Consultar Proyectos Activos
|Usuario/Cliente|
start
:Abrir aplicación;
:Seleccionar "Proyectos Activos";

|Sistema|
if (¿Usuario autenticado?) then (no)
  :Mostrar pantalla de login;

fork
|Usuario/Cliente|
  :Ingresar credenciales;
fork again
|Sistema|
:Validar credenciales;
  note
  Este paso se repite hasta que los datos sean correctos
  endnote
endfork
while (Credenciales válidas?) is (no)
  :Mostrar error de login;
|Usuario/Cliente|
  :Modificar credenciales ingresadas;
endwhile (sí)
endif

|Sistema|
  :Autenticar usuario;
  :Recuperar lista de proyectos activos;
|Sistema|
fork
  :Recopilacion de datos;
  :Sincronización de datos;
floating note right:  Datos de los Proyectos registrados en Estado "Activo"
  :Confirmar recepción datos;
|Recursos|
  fork again
  :Recepción de pedido de datos;
  :Sincronización de datos;
  :Recibir confirmación de recepción de datos;
|Sistema|
end fork

  |Sistema|
fork
  :Recopilacion de datos filtrados;
  :Sincronización de datos;
floating note right: Datos de las Estadisticas provenientes de las fuentes que cumplen los filtros seleccionados
  :Confirmar recepción datos;
|Recursos|
  fork again
  :Recepción de pedido de datos;
  :Sincronización de datos;
  :Recibir confirmación de recepción de datos;
|Sistema|
end fork
|Sistema|
if (¿Hay proyectos activos?) then (no)
  :Mostrar mensaje "No hay proyectos activos";
else (sí)
  :Mostrar lista inicial de proyectos;

|Usuario/Cliente|
:Aplicar filtro (usuario / cliente);
if (Aplica filtro?) then (sí)
  :Seleccionar filtro responsable/etapa;

|Sistema|
:Filtrar resultados según criterio;
:Mostrar lista filtrada al usuario;
else (no)
endif

|Usuario/Cliente|
:Seleccionar proyecto para ver detalles;

|Sistema|
fork
:Mostrar detalles del proyecto (estado, responsables, cumplimiento);
fork again
:Mostrar historial y tareas relacionadas;
endfork

|Usuario/Cliente|
:Cerrar vista del Proyecto;
endif

|Usuario/Cliente|
  :Cerrar vista de Proyecto/s Activos;
  stop

@enduml